## **JS运行机制**

* 当浏览器（内核/引擎）渲染和解析JS的时候，会提供一个JS代码运行的环境，即全局作用域(global/window scope)

* 变量提升，代码自上而下执行

    + 基本数据类型的值会存储在当前作用域下

        var a = 12
        1). 首先开辟一个空间存储12
        2). 在当前作用域中声明一个变量a (var a)
        3). 让声明的变量和存储的12 进行关联（把存储的12赋值给12，赋值操作叫作定义）

    + 基本数据类型（值类型），是按照值来操作的：把所有的值复制一份，放到新的空间或位置上，和原来的值没有关系

    + 引用数据类型的值不能直接存储到当前作用域下，需要先开辟一个新的空间，把内容存储到这个空间中

        var obj1 = { n:100}
        1). 首先开辟一个新的内存空间，把对象中的键值对依次存储起来（此空间有一个16进制的地址）
        2). 声明一个变量
        3). 让变量和空间地址关联在一起（把空间地址赋给变量）

    + 引用类型不是按照值来操作，它操作的是空间引用地址：把原来空间的地址赋值新的变量，但是原来的空间没有被克隆，还是一个空间，这样就会出现多个变量关联的是相同的空间，相互之间就会存在影响

* ``栈内存``：

    + 本身就是一个供JS代码执行的环境，所有的基本类型值都会直接在栈内存中开辟一个位置进行存储

* ``堆内存`` :

    + 用来存储引用类型中的信息值的
    + 对象存储的是键值对 函数存储的是代码字符串
